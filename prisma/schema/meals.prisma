model Meals {
    id                  String       @id @default(uuid())
    provider_id         String
    user                User         @relation(fields: [provider_id], references: [id])
    category_id         String
    category            Categories   @relation(fields: [category_id], references: [id])

    name                String       @db.VarChar(300)
    description         String       @db.Text
    price               Float        @db.DoublePrecision
    discount_percentage Float?       @db.DoublePrecision
    discount_price      Float?       @db.DoublePrecision
    image_url           String       @db.Text
    preparation_time    Int          @db.Integer // minutes
    rating_sum          Int?         @default(0) @db.Integer
    rating_count        Int?         @default(0) @db.Integer
    
    dietary_type        DietaryType  @default(MIX)
    is_available        Boolean      @default(true)
    created_at          DateTime     @default(now())
    updated_at          DateTime     @updatedAt
    orderItems          OrderItems[]
    reviews             Reviews[]
    cartItems           CartItems[]

    @@index([dietary_type, is_available], name: "idx_meals_dietary_type_is_available")
    @@map("meals")
}

enum DietaryType {
    VEG
    HALAL
    VEGAN
    MIX
}
